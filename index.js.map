{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchPhotos(searchParams) {\n  const url = `https://pixabay.com/api/?${searchParams}`;\n\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox = null;\n\nexport function renderPhotos(photos) {\n  const photoList = document.querySelector('.photo-list');\n  photoList.innerHTML = '';\n\n  const markup = photos\n    .map(photo => {\n      return `\n      <li class=\"photo-item\">\n        <a href=\"${photo.largeImageURL}\" class=\"gallery-item\">\n          <img src=\"${photo.webformatURL}\" alt=\"${photo.tags}\" width=\"360\" height=\"152\" />\n        </a>\n        <div class=\"info\">\n          <div class=\"info-item\">\n            <p>Likes</p>\n            <p>${photo.likes}</p>\n          </div>\n          <div class=\"info-item\">\n            <p>Views</p>\n            <p>${photo.views}</p>\n          </div>\n          <div class=\"info-item\">\n            <p>Comments</p>\n            <p>${photo.comments}</p>\n          </div>\n          <div class=\"info-item\">\n            <p>Downloads</p>\n            <p>${photo.downloads}</p>\n          </div>\n        </div>\n      </li>`;\n    })\n    .join('');\n\n  photoList.insertAdjacentHTML('beforeend', markup);\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery-item', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  } else {\n    lightbox.refresh();\n  }\n}\n","import { fetchPhotos } from './js/pixabay-api';\nimport { renderPhotos } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst fetchSubmit = document.querySelector('.form');\nconst searchInput = document.querySelector('.search-input');\nconst loader = document.querySelector('.loader');\n\nfetchSubmit.addEventListener('submit', event => {\n  event.preventDefault();\n  const searchRequest = searchInput.value;\n  const photoList = document.querySelector('.photo-list');\n  loader.style.display = 'block';\n\n  const searchParams = new URLSearchParams({\n    key: '46706614-1dc051161d475bf769026fdc5',\n    q: `${searchRequest}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 9,\n  });\n\n  fetchPhotos(searchParams)\n    .then(photos => {\n      loader.style.display = 'none';\n      searchInput.value = '';\n      if (photos.hits.length === 0) {\n        photoList.innerHTML = '';\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, no images found for your search query. Please try again!',\n        });\n      } else {\n        renderPhotos(photos.hits);\n      }\n    })\n    .catch(error => {\n      loader.style.display = 'none';\n      iziToast.error({\n        title: 'Error',\n        message: `Something went wrong. Error: ${error.message}`,\n      });\n    });\n});\n\niziToast.settings({\n  timeout: 10000,\n  position: 'topRight',\n  resetOnHover: true,\n  icon: 'material-icons',\n  transitionIn: 'flipInX',\n  transitionOut: 'flipOutX',\n  onOpening: function () {\n    // console.log('callback abriu!');\n  },\n  onClosing: function () {\n    // console.log('callback fechou!');\n  },\n});\n"],"names":["fetchPhotos","searchParams","url","response","lightbox","renderPhotos","photos","photoList","markup","photo","SimpleLightbox","fetchSubmit","searchInput","loader","event","searchRequest","iziToast","error"],"mappings":"6vBAAO,SAASA,EAAYC,EAAc,CACxC,MAAMC,EAAM,4BAA4BD,CAAY,GAEpD,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCNA,IAAIC,EAAW,KAER,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAAY,SAAS,cAAc,aAAa,EACtDA,EAAU,UAAY,GAEtB,MAAMC,EAASF,EACZ,IAAIG,GACI;AAAA;AAAA,mBAEMA,EAAM,aAAa;AAAA,sBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,iBAK3CA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,iBAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,iBAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,iBAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,YAI3B,EACA,KAAK,EAAE,EAEVF,EAAU,mBAAmB,YAAaC,CAAM,EAE3CJ,EAMHA,EAAS,QAAO,EALhBA,EAAW,IAAIM,EAAe,gBAAiB,CAC7C,aAAc,MACd,aAAc,GACpB,CAAK,CAIL,CC3CA,MAAMC,EAAc,SAAS,cAAc,OAAO,EAC5CC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAY,iBAAiB,SAAUG,GAAS,CAC9CA,EAAM,eAAc,EACpB,MAAMC,EAAgBH,EAAY,MAC5BL,EAAY,SAAS,cAAc,aAAa,EACtDM,EAAO,MAAM,QAAU,QAEvB,MAAMZ,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAG,GAAGc,CAAa,GACnB,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,CACd,CAAG,EAEDf,EAAYC,CAAY,EACrB,KAAKK,GAAU,CACdO,EAAO,MAAM,QAAU,OACvBD,EAAY,MAAQ,GAChBN,EAAO,KAAK,SAAW,GACzBC,EAAU,UAAY,GACtBS,EAAS,MAAM,CACb,MAAO,QACP,QACE,iEACZ,CAAS,GAEDX,EAAaC,EAAO,IAAI,CAEhC,CAAK,EACA,MAAMW,GAAS,CACdJ,EAAO,MAAM,QAAU,OACvBG,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gCAAgCC,EAAM,OAAO,EAC9D,CAAO,CACP,CAAK,CACL,CAAC,EAEDD,EAAS,SAAS,CAChB,QAAS,IACT,SAAU,WACV,aAAc,GACd,KAAM,iBACN,aAAc,UACd,cAAe,WACf,UAAW,UAAY,CAEtB,EACD,UAAW,UAAY,CAEtB,CACH,CAAC"}